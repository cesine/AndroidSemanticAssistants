% Semantic Assistants - http://www.semanticsoftware.info/semantic-assistants

% This file is part of the Semantic Assistants architecture.

% Copyright (C) 2009, 2010, 2011 Semantic Software Lab, http://www.semanticsoftware.info
% The Semantic Assistants architecture is free software: you can
% redistribute and/or modify it under the terms of the GNU Affero General
% Public License as published by the Free Software Foundation, either
% version 3 of the License, or (at your option) any later version.
   
% This program is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU Affero General Public License for more details.
 
% You should have received a copy of the GNU Affero General Public License
% along with this program.  If not, see <http://www.gnu.org/licenses/>.

\chapter{Installation}
\label{chap:inst}
\emph{Note: at present, the installation has been tested under
  Linux and Mac OS X}

\section{Download}
To download the latest version of the \sa and this documentation
please refer to
\url{http://www.semanticsoftware.info/semantic-assistants-architecture}.
A pre-compiled build of the latest version is available from our
Hudson server, \url{http://assistant.cs.concordia.ca:8080/}. In the
following, we assume you use a pre-compiled version; for compilation
instructions, please refer to Chapter~\ref{chap:dev}.

\section{Prerequisites}
To deploy the \sa architecture, a number of other (open source)
components are needed:

\paragraph{Common throughout the Project:}
\begin{enumerate}
%  \item  Apache ANT, \url{http://ant.apache.org/}
  \item  Sun JDK 6, \url{http://java.sun.com/javase/downloads/index.jsp}
  \item  GATE v6.0 or newer, \url{http://gate.ac.uk/}
\end{enumerate} 

\paragraph{For the \sa Server:}
\begin{enumerate}
  \item Java API for XML Web Services (JAX-WS) v2.1.x, \url{https://jax-ws.dev.java.net/}
%  \item Prot\'{e}g\'{e}-OWL API v3.4, \url{http://protege.stanford.edu/plugins/owl/api/} 
\end{enumerate}

\paragraph{For the CSAL:}
\begin{enumerate}
  \item Java API for XML Web Services (JAX-WS) v2.1.x, \url{https://jax-ws.dev.java.net/}
\end{enumerate}

\paragraph{For the OpenOffice.org Writer Plug-in:}
\begin{enumerate}
\item OpenOffice 3.2, \url{http://download.openoffice.org/}
\item The OpenOffice.org 3.2 SDK,
  \url{http://download.openoffice.org/sdk/index.html}
%\item Apache log4j v1.2,
%  \url{http://logging.apache.org/log4j/1.2/index.html}
%\item Apache Commons Lang v2.4, \url{http://commons.apache.org/lang/}
\end{enumerate}

\paragraph{For the Eclipse Plug-in:}
\begin{enumerate}
\item Eclipse Classic 3.5+ \url{http://www.eclipse.org/downloads/}
\end{enumerate}


\section{Path Configuration}
\label{sec:props}
The \emph{SemassistProperties.xml} file serves for two purposes.  It's
included by the ANT \emph{build.xml} files of all projects and
contains common directory paths and used to compile the various
Semantic Assistants components. Secondly, it used by the server at
run-time as a property file.

Users needs to modify the values of the properties in order to
correspond at the proper paths of their machine. The options to be
adapted, include the path to the service description directory, GATE
home, GATE plug-ins, etc. Descriptions of these properties are as the
followings:

The first part is an import statement, where it includes the
\texttt{LocalProperties.xml} file. This file the is the place to store
your local paths and customizations, e.g., you can add additional paths
for your local pipelines in this file.
\begin{lstlisting}[language=XML,numbers=left,xleftmargin=8mm,columns=flexible]
    <!-- Importing LocalProperties.xml file for local paths and customizations -->
    <import file ="LocalProperties.xml"/>
\end{lstlisting}
By default, \texttt{LocalProperties.xml} contains the path to the directory containing the NLP
service descriptions (OWL files):
\begin{lstlisting}[language=XML,numbers=left,xleftmargin=8mm,columns=flexible]
  <property name="service.repository"       value="${semassist.home}/Resources/OwlServiceDescriptions/"/>

  <path id="localruntimeclasspath">
    <!-- Added locally needed paths here -->
  </path>
\end{lstlisting}


The second part of the \texttt{SemassistProperties.xml} is where the
machine-specific variables are modified to point to proper paths of
the users' machine. The variables as follows:
\begin{lstlisting}[language=XML,numbers=left,xleftmargin=8mm,columns=flexible]
    <!-- Machine dependent properties.Need to be modified -->
    <property name="durmtools"          value="/usr/local/durmtools" />
    <property name="jaxws.home"         value="${durmtools}/jaxws-ri" />
    <property name="gate-home"          value="${durmtools}/GATE/gate" />
    <property name="jdk.home"           value="${durmtools}/jdk" />
\end{lstlisting}

\begin{enumerate}
\item \url{durmtools}: This is one of the most important variables in this properties file and needs to be defined properly. According to the prerequisites mentioned earlier, there are various applications that need to be installed prior to using the Semantic Assistants.
Create a folder called \texttt{durmtools} and install all the required applications to this folder, or point this variable to where all your applications are installed e.g. \emph{Applications} on Mac or \emph{Programs} in Windows.
%\item \url{semassist.home}: This variable points to the place on your local machine that the Semantic Assistants package has been downloaded and extracted. Put the full path of the folder in here, exempting the user home directory path for it will be automatically replaced by \texttt{\$\{user.home\}}.
%\item \url{csal.home}: This variable points to the \texttt{CSAL} folder inside the Semantic Assistants package. If the structure is untouched, the path should read \texttt{"\$\{semassist.home\}/CSAL"}.
\item \url{jaxws.home}: This variable points to the Java API for XML Web Services (JAX-WS) v2.1.x application installed in the path defined in \texttt{\$\{durmtools\}} variable.
%\item \url{protege-home}: This variable points to the Prot\'{e}g\'{e}-OWL API v3.4 application installed in the path defined in \texttt{\$\{durmtools\}} variable.
\item \url{gate-home}: This variable points to the GATE v6.0 or newer application installed in the path defined in \texttt{\$\{durmtools\}} variable.
\item \url{jdk.home}: This variable points to the Sun JDK 6 installed on your machine.
\end{enumerate}


The third part includes all the properties used by the OpenOffice.org Writer plug-in. Therefore, in order to use this plug-in, all these variables should be defined beforehand.
\begin{lstlisting}[language=XML,numbers=left,xleftmargin=8mm,columns=flexible]
    <!-- Used by Open Office Writer Plug-In-->    
    <property name="office.home.dir"          value="${durmtools}/OpenOffice"/>
    <property name="uno-copy-dest"  	      value="${user.home}/Documents/uno-components" />
    <property name="office.program.dir"       value="${office.home.dir}/program"/>
    <property name="ooo-classes-basis"        value="${office.home.dir}/basis3.2/program/classes/" />
    <property name="ooo-classes-common"       value="${office.home.dir}/ure/share/java/" />
\end{lstlisting}
\begin{enumerate}
\item \url{office.home.dir}: This variable points to the OpenOffice 3.2 application installed in the path defined in \texttt{\$\{durmtools\}} variable explained earlier.
\item \url{uno-copy-dest}: This variable identifies where the Semantic Assistants plug-in will be stored when it is successfully built. 
\item \url{office.program.dir}: This variable points to the \texttt{program} folder inside \texttt{\$\{office.home.dir\}} path which contains the Writer program.
\item \url{ooo-classes-basis}: This variable points to the folder that contains the bulk, brand-independent OpenOffice functionalities.
\item \url{ooo-classes-common}: This variable points to the folder that containes common Java JAR libraries used by OpenOffice.
\end{enumerate}

The next part includes all the properties used by the Eclipse plug-in. Therefore, in order to use this plug-in, all these variables should be defined beforehand.
\begin{lstlisting}[language=XML,numbers=left,xleftmargin=8mm,columns=flexible]
    <!-- Used by Eclipse Plug-In-->
    <property name="eclipse.program.dir"      value="${durmtools}/eclipse-4.0"/>
    <property name="eclipse.plugins"          value="${eclipse.program.dir}/plugins"/>
\end{lstlisting}
\begin{enumerate}
\item \url{eclipse.program.dir}: This variable points to the Eclipse v3.5 or newer application installed in the path defined in \texttt{\$\{durmtools\}} variable explained earlier.
\item \url{eclipse.plugins}: This variable points to the \texttt{plugins} folder located inside the Eclipse application installed on your machine.
\end{enumerate}

The last part includes all the properties used by the Semantic Assistants server at runtime.
\begin{lstlisting}[language=XML,numbers=left,xleftmargin=8mm,columns=flexible]
    <!-- Used by the server at runtime as properties -->
    <property name="gate.plugin.dir"          value="${gate-home}/plugins/"/>
    <property name="gate.user.file"           value="${semassist.home}/Server/gate-home/user-gate.xml" />
    <property name="ontology.repository"      value="${semassist.home}/Resources/ont-repository/" />

    <property name="runtime.maxmem"       value="1638m" />
    <property name="runtime.heap.initial" value="128m" />
    <property name="runtime.heap.max"     value="1638m" />
    
    <!-- Server Property Settings (ie # of Threads allowed) -->
    <property name="server.threads.allowed"        value="3"/>

    <!-- Port for which the Server listens for debugers to be attached -->
    <property name="server.port.debug"    value="8885"/>
    
    <!-- Port used by the Server to communicate with the clients through wsdl-->
    <property name="server.port.wsdl"     value="8879"/>
\end{lstlisting}
\begin{enumerate}
\item \url{gate.plugin.dir}: This variable points to the GATE application \texttt{plugins} folder used for service executions.
\item \url{gate.user.file}: This variable points to the GATE application user configuration file.
%\item \url{service.repository}: This variable points to the OWL service description files. New service description files are added to this folder once they're available and will be later detected by the server. 
\item \url{ontology.repository}: This variable points to the folder containing the SemanticAssistants OWL files.
\item \url{runtime.maxmem}: This variable contains the maximum amount of runtime memory used by JDK. Unless your JDK complains about the value, leave this as it is.
\item \url{runtime.heap.initial}: This variable contains the initial amount of heap space used by JDK at runtime.
\item \url{runtime.heap.max}: This variable contains the maximum amount of heap space used by JDK at runtime.
\item \url{server.threads.allowed}: This variable contains the number of threads the server should allow to run concurrently.
\item \url{server.port.debug}: This variable contains the port number on users machine on which the server listens for debuggers to be attached.
\item \url{server.port.wsdl}: This variable contains the port number on which the server communicates with the clients through WSDL.
\end{enumerate}


\section{Client Installation}
The installation and configuration of clients is covered in
Chapter~\ref{chap:clients}.

\begin{description}
\item[Command-Line Client:] For information on how to compile and run
  the command-line client, please refer to Section~\ref{sec:sacl:clc}.

\item[The OpenOffice.org Writer Plug-In:] For details on how to
  compile and run the OpenOffice.org Writer plug-in please refer to
  Section~\ref{subsec:oo-inst}.

\item[The Eclipse Plug-In:] For details on how to
  compile and run the Eclipse plug-in please refer to
  Section~\ref{subsec:eclipse_install}.
\end{description}









